Exercise 8 — Remote build triggers (curl) (20 marks)
1. Create / Use a Jenkins job (Freestyle or Pipeline).
2. Enable remote trigger and token
○ Job → Configure → Under Build Triggers check Trigger builds remotely
(e.g., from scripts) → Authentication Token: enter e.g.
MY_TRIGGER_TOKEN → Save.
3. Generate API token for user (recommended) or use credentials:
○ Jenkins UI → click username (top-right) → Configure → Show API Token →
copy token.
4. Trigger build via cURL
○ If Jenkins requires basic auth:
curl -X POST
"http://JENKINS_URL/job/JOB_NAME/build?token=MY_TRIGGER_TOKEN"
--user "jenkins_user:API_TOKEN"
● For buildWithParameters (if job requires params):
curl -X POST
"http://JENKINS_URL/job/JOB_NAME/buildWithParameters?token=MY_TRIGGE
R_TOKEN&PARAM1=value" --user "jenkins_user:API_TOKEN"
Notes
● If CSRF protection is enabled, use crumb API or use --user for auth and fetch
crumb, e.g.:
CRUMB=$(curl -s
'http://JENKINS_URL/crumbIssuer/api/xml?xpath=concat(//crumbRequestF
ield,":",//crumb)' --user jenkins_user:API_TOKEN)
curl -X POST
"http://JENKINS_URL/job/JOB_NAME/build?token=MY_TRIGGER_TOKEN"
--user jenkins_user:API_TOKEN -H "$CRUMB"